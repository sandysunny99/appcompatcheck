# ========================================
# AppCompatCheck - Production Environment Variables
# ========================================
# 
# IMPORTANT: 
# 1. Copy this file to .env.production
# 2. Fill in all required values
# 3. NEVER commit .env.production to Git
# 4. Use your platform's environment variable settings for production
#
# ========================================

# ========================================
# APPLICATION CONFIGURATION
# ========================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
NEXT_PUBLIC_API_URL=https://your-domain.com/api

# Build Configuration
NPM_CONFIG_LEGACY_PEER_DEPS=true
NEXT_TELEMETRY_DISABLED=1
BUILD_STANDALONE=false

# ========================================
# DATABASE (PostgreSQL) - REQUIRED
# ========================================
# Format: postgresql://username:password@host:port/database
# Example providers:
# - Vercel Postgres: postgresql://...
# - Supabase: postgresql://postgres.[project-ref].supabase.co:5432/postgres
# - Railway: postgresql://...
# - Neon: postgresql://...
DATABASE_URL=postgresql://username:password@host:5432/database_name

# Connection Pool Settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ========================================
# REDIS CACHE - OPTIONAL (Recommended)
# ========================================
# Format: redis://host:port or redis://username:password@host:port
# Example providers:
# - Upstash: redis://...
# - Redis Cloud: redis://...
# - Railway: redis://...
REDIS_URL=redis://localhost:6379
REDIS_TLS_ENABLED=false

# ========================================
# AUTHENTICATION & SECURITY - REQUIRED
# ========================================

# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-here-min-32-chars
NEXTAUTH_URL=https://your-domain.com

# JWT Configuration
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-here-min-32-chars
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Session Configuration
SESSION_MAX_AGE=604800
SESSION_UPDATE_AGE=86400

# CSRF Protection
CSRF_SECRET=your-csrf-secret-here

# ========================================
# ADMIN ACCOUNT (Initial Setup)
# ========================================
# Used for creating the first admin user
ADMIN_EMAIL=admin@your-domain.com
ADMIN_PASSWORD=SecureAdminPassword123!
ADMIN_NAME=System Administrator

# ========================================
# EMAIL SERVICE - REQUIRED
# ========================================

# Option 1: Resend (Recommended)
# Get API key from: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME=AppCompatCheck

# Option 2: SendGrid
# SENDGRID_API_KEY=SG.your_sendgrid_api_key
# EMAIL_FROM=noreply@your-domain.com

# Option 3: SMTP (Gmail, Outlook, etc.)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-specific-password
# SMTP_FROM=noreply@your-domain.com

# Email Templates
EMAIL_SUPPORT=support@your-domain.com
EMAIL_REPLY_TO=support@your-domain.com

# ========================================
# FILE STORAGE - OPTIONAL
# ========================================

# Local Storage (Default)
STORAGE_TYPE=local
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=52428800

# AWS S3 Storage
# STORAGE_TYPE=s3
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-bucket-name

# Azure Blob Storage
# STORAGE_TYPE=azure
# AZURE_STORAGE_CONNECTION_STRING=your_connection_string
# AZURE_STORAGE_CONTAINER=your-container-name

# Google Cloud Storage
# STORAGE_TYPE=gcs
# GCS_PROJECT_ID=your-project-id
# GCS_BUCKET=your-bucket-name
# GCS_KEYFILE=./path/to/keyfile.json

# ========================================
# EXTERNAL INTEGRATIONS - OPTIONAL
# ========================================

# GitHub Integration
GITHUB_CLIENT_ID=your_github_oauth_client_id
GITHUB_CLIENT_SECRET=your_github_oauth_client_secret
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret

# GitLab Integration
GITLAB_CLIENT_ID=your_gitlab_oauth_client_id
GITLAB_CLIENT_SECRET=your_gitlab_oauth_client_secret
GITLAB_WEBHOOK_SECRET=your_gitlab_webhook_secret

# Bitbucket Integration
BITBUCKET_CLIENT_ID=your_bitbucket_oauth_client_id
BITBUCKET_CLIENT_SECRET=your_bitbucket_oauth_client_secret

# Jira Integration
JIRA_CLIENT_ID=your_jira_client_id
JIRA_CLIENT_SECRET=your_jira_client_secret
JIRA_WEBHOOK_SECRET=your_jira_webhook_secret

# Slack Integration
SLACK_CLIENT_ID=your_slack_client_id
SLACK_CLIENT_SECRET=your_slack_client_secret
SLACK_SIGNING_SECRET=your_slack_signing_secret
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Microsoft Teams Integration
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/WEBHOOK/URL

# ========================================
# MONITORING & ANALYTICS - OPTIONAL
# ========================================

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_AUTH_TOKEN=your_sentry_auth_token
SENTRY_ORG=your-organization
SENTRY_PROJECT=your-project

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Vercel Analytics (Automatic on Vercel)
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=your_analytics_id

# LogRocket Session Replay
LOGROCKET_APP_ID=your-app/id

# New Relic APM
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key
NEW_RELIC_APP_NAME=AppCompatCheck

# ========================================
# RATE LIMITING & SECURITY
# ========================================

# Rate Limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_ENABLED=true

# CORS Configuration
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
CORS_CREDENTIALS=true

# Security Headers
CONTENT_SECURITY_POLICY_ENABLED=true
HSTS_MAX_AGE=31536000

# ========================================
# FEATURE FLAGS
# ========================================

# Enable/Disable Features
ENABLE_ANALYTICS=true
ENABLE_MONITORING=true
ENABLE_NOTIFICATIONS=true
ENABLE_INTEGRATIONS=true
ENABLE_WEBSOCKET=true
ENABLE_API_DOCS=true

# Beta Features
ENABLE_AI_ANALYSIS=false
ENABLE_ADVANCED_REPORTING=true

# ========================================
# PERFORMANCE & OPTIMIZATION
# ========================================

# Caching
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Database Query Optimization
DB_QUERY_TIMEOUT=30000
DB_ENABLE_QUERY_LOGGING=false

# Background Jobs
JOB_QUEUE_ENABLED=true
JOB_CONCURRENCY=5

# ========================================
# LOGGING
# ========================================

# Log Level: error, warn, info, debug
LOG_LEVEL=info
LOG_FORMAT=json

# Log Destinations
LOG_TO_FILE=true
LOG_TO_CONSOLE=true
LOG_FILE_PATH=./logs/app.log

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90

# ========================================
# BACKUP & DATA RETENTION
# ========================================

# Automated Backups
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

# Data Retention
DATA_RETENTION_DAYS=365
SCAN_RESULTS_RETENTION_DAYS=90
AUDIT_LOG_RETENTION_DAYS=365

# ========================================
# API CONFIGURATION
# ========================================

# API Versioning
API_VERSION=v1
API_PREFIX=/api

# API Keys
API_KEY_HEADER=X-API-Key
API_KEY_ENABLED=true

# API Documentation
API_DOCS_ENABLED=true
API_DOCS_PATH=/api/docs

# ========================================
# WEBHOOKS
# ========================================

# Webhook Configuration
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=1000

# ========================================
# NOTIFICATIONS
# ========================================

# Notification Channels
NOTIFICATION_EMAIL_ENABLED=true
NOTIFICATION_SLACK_ENABLED=false
NOTIFICATION_TEAMS_ENABLED=false
NOTIFICATION_IN_APP_ENABLED=true

# Notification Throttling
NOTIFICATION_RATE_LIMIT=10
NOTIFICATION_RATE_WINDOW=3600000

# ========================================
# DEVELOPMENT & DEBUG (Set to false in production)
# ========================================

DEBUG=false
VERBOSE_LOGGING=false
ENABLE_DEV_TOOLS=false
SKIP_ENV_VALIDATION=false

# ========================================
# END OF CONFIGURATION
# ========================================
